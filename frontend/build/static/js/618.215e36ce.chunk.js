"use strict";(self.webpackChunkhekto=self.webpackChunkhekto||[]).push([[618],{2495:function(e,a,r){r(2791);var s=r(6907),n=r(184);a.Z=function(e){var a=e.title;return(0,n.jsx)(s.B6,{children:(0,n.jsx)(s.ql,{children:(0,n.jsx)("title",{children:a})})})}},3618:function(e,a,r){r.r(a),r.d(a,{default:function(){return g}});var s=r(9439),n=r(2791),t=r(9184),i=r(5890),l=r(2495),o=r(1398),d=r(7022),c=r(3360),m=r(5630),u=r(184),h=function(e){var a=e.label,r=e.name,s=e.isEditing,n=e.value,t=e.handleEditClick,i=e.errors,l=e.touched,o=e.handleBlur,d=e.handleChange,h=e.handleSubmit;return(0,u.jsx)(u.Fragment,{children:s?(0,u.jsxs)(u.Fragment,{children:[(0,u.jsxs)("div",{className:"ms-md-2 me-md-auto mx-2",children:[(0,u.jsx)(m.Z.Control,{type:"text",value:n,name:r,onChange:d,onBlur:o,isInvalid:l&&i,"aria-label":a,"aria-describedby":a}),i&&l?(0,u.jsx)(m.Z.Control.Feedback,{type:"invalid",children:i}):null]}),(0,u.jsx)(c.Z,{disabled:!!i,variant:"secondary",type:"submit",onClick:function(){t(!1,n),h()},children:"Save"})]}):(0,u.jsxs)(u.Fragment,{children:[(0,u.jsxs)("div",{className:"ms-md-2 me-md-auto mx-2 text-truncate",children:[(0,u.jsxs)("div",{className:"fw-bold",children:[a,":"]}),n]}),(0,u.jsx)(c.Z,{variant:"secondary",onClick:function(){return t(!0,n)},children:"Edit"})]})})},w=r(9434),P=r(7689),b=r(9600),f=r(8121),y=r(5705),x=r(4848),p={oldPassword:"",newPassword:"",confirmNewPassword:""},v=function(){var e=(0,w.I0)(),a=(0,n.useState)(!1),r=(0,s.Z)(a,2),t=r[0],i=r[1],l=function(e){setTimeout((function(){i(e)}))},o=(0,y.TA)({initialValues:p,validationSchema:x.v6,onSubmit:function(a){var r=new FormData;r.set("oldPassword",a.oldPassword),r.set("newPassword",a.newPassword),r.set("confirmPassword",a.confirmNewPassword),e((0,b.gQ)(r))}}),d=o.values,h=o.errors,P=o.touched,f=o.handleBlur,v=o.handleChange,j=o.handleSubmit;return(0,u.jsx)(u.Fragment,{children:t?(0,u.jsx)(u.Fragment,{children:(0,u.jsx)(m.Z,{onSubmit:j,className:"w-100",children:(0,u.jsxs)(m.Z.Group,{className:"mb-3",children:[(0,u.jsxs)("div",{className:"ms-md-2 me-md-auto mx-2 mb-3",children:[(0,u.jsx)(m.Z.Control,{type:"password",value:d.oldPassword,name:"oldPassword",placeholder:"Enter your old Password",onChange:v,onBlur:f,isInvalid:P.oldPassword&&h.oldPassword,"aria-label":"oldPassword","aria-describedby":"oldPassword"}),h.oldPassword&&P.oldPassword?(0,u.jsx)(m.Z.Control.Feedback,{type:"invalid",children:h.oldPassword}):null,(0,u.jsx)(m.Z.Control,{type:"password",value:d.newPassword,name:"newPassword",placeholder:"Enter your new Password",className:"my-3",onChange:v,onBlur:f,isInvalid:P.newPassword&&h.newPassword,"aria-label":"newPassword","aria-describedby":"newPassword"}),h.newPassword&&P.newPassword?(0,u.jsx)(m.Z.Control.Feedback,{type:"invalid",children:h.newPassword}):null,(0,u.jsx)(m.Z.Control,{type:"password",value:d.confirmNewPassword,name:"confirmNewPassword",placeholder:"Enter your confirm Password",onChange:v,onBlur:f,isInvalid:P.confirmNewPassword&&h.confirmNewPassword,"aria-label":"confirmPassword","aria-describedby":"confirmPassword"}),h.confirmNewPassword&&P.confirmNewPassword?(0,u.jsx)(m.Z.Control.Feedback,{type:"invalid",children:h.confirmNewPassword}):null]}),(0,u.jsx)(c.Z,{disabled:0!==Object.keys(h).length,variant:"secondary",type:"submit",onClick:function(){return l(!1)},children:"Save"})]})})}):(0,u.jsxs)(u.Fragment,{children:[(0,u.jsxs)("div",{className:"ms-md-2 me-md-auto mx-2",children:[(0,u.jsx)("div",{className:"fw-bold",children:"Password:"}),"********"]}),(0,u.jsx)(c.Z,{variant:"secondary",onClick:function(){return l(!0)},children:"Change Password"})]})})},j=(0,n.memo)(v),Z={name:"",email:""},g=function(){var e=(0,P.s0)(),a=(0,w.I0)(),r=(0,w.v9)((function(e){return e.user})),c=r.user,m=r.isAuthenticated,p=(0,w.v9)((function(e){return e.profile})),v=p.success,g=p.error,N=p.message,C=p.headerLoading,q=(0,y.TA)({initialValues:Z,validationSchema:x.jE,onSubmit:function(e){var r=new FormData;r.set("name",e.name),r.set("email",e.email),a((0,b.ck)(r))},validateOnChange:!0,validateOnBlur:!0}),k=q.values,E=q.setFieldValue,_=q.errors,S=q.touched,I=q.handleBlur,F=q.handleChange,R=q.handleSubmit,B=(0,n.useState)(!1),A=(0,s.Z)(B,2),O=A[0],D=A[1],K=(0,n.useState)(!1),H=(0,s.Z)(K,2),L=H[0],T=H[1],V=function(e,a){a===k.name?D(e):T(e)};return(0,n.useEffect)((function(){c&&(E("name",c.name),E("email",c.email)),a({type:f.l8})}),[m,e,c,a,E]),(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)(l.Z,{title:"Hekto Your Account"}),(0,u.jsx)(t.Z,{progressLoading:C}),(g||v)&&(0,u.jsx)(i.Z,{error:g,message:N},N),(0,u.jsxs)(d.Z,{className:"profile-container",children:[(0,u.jsx)("h3",{className:"my-4",children:"Your account"}),(0,u.jsxs)(o.Z,{as:"ol",children:[(0,u.jsx)(o.Z.Item,{as:"li",className:"d-flex justify-content-between align-items-center",children:(0,u.jsx)(h,{label:"Name",name:"name",isEditing:O,value:k.name,handleEditClick:V,errors:_.name,touched:S.name,handleBlur:I,handleChange:F,handleSubmit:R})}),(0,u.jsx)(o.Z.Item,{as:"li",className:"d-flex justify-content-between align-items-center",children:(0,u.jsx)(h,{label:"Email",name:"email",isEditing:L,value:k.email,handleEditClick:V,errors:_.email,touched:S.email,handleBlur:I,handleChange:F,handleSubmit:R})}),(0,u.jsx)(o.Z.Item,{as:"li",className:"d-flex justify-content-between align-items-start",children:(0,u.jsxs)("div",{className:"ms-2 me-auto",children:[(0,u.jsx)("div",{className:"fw-bold",children:"Joined on:"}),String(c.createdAt).substr(0,10)]})}),(0,u.jsx)(o.Z.Item,{as:"li",className:"d-flex justify-content-between align-items-start",children:(0,u.jsx)(j,{})})]})]})]})}},4848:function(e,a,r){r.d(a,{Iy:function(){return m},JE:function(){return u},KC:function(){return c},cu:function(){return t},dm:function(){return n},if:function(){return l},jE:function(){return o},v6:function(){return d},xr:function(){return i}});var s=r(8007),n=s.Ry({email:s.Z_().email("Invalid Email").required("Please enter your email"),password:s.Z_().min(6,"Password must be at least 6 characters").required("Please enter your password")}),t=s.Ry({email:s.Z_().email("Invalid Email").required("Please enter your email")}),i=s.Ry({password:s.Z_().min(6,"Password must be at least 6 characters").required("Please enter your new password"),confirmPassword:s.Z_().min(6,"Password must be at least 6 characters").oneOf([s.iH("password"),null],"Password does not match").required("Please confirm your new password")}),l=s.Ry({name:s.Z_().min(2,"Name must be at least 2 characters").max(25,"Name should not be more than 25 characters").required("Please enter your name"),email:s.Z_().email("Invalid Email").required("Please enter your email"),password:s.Z_().min(6,"Password must be at least 6 characters").required("Please enter your password"),avatar:s.nK().required("Please enter your image")}),o=s.Ry({name:s.Z_().min(2,"Name must be at least 2 characters").max(25,"Name should not be more than 25 characters").required("Please enter your name"),email:s.Z_().email("Invalid Email").required("Please enter your email")}),d=s.Ry({oldPassword:s.Z_().min(6,"Old password must be at least 6 characters").required("Please enter your old password"),newPassword:s.Z_().min(6,"New password must be at least 6 characters").required("Please enter your new password"),confirmNewPassword:s.Z_().min(6,"New password must be at least 6 characters").oneOf([s.iH("newPassword"),null],"Password does not match").required("Please confirm your new password")}),c=s.Ry({address:s.Z_().min(6,"Address must be at least 6 characters").required("Please enter your address"),city:s.Z_().min(3,"City must be at least 3 characters").required("Please enter your city"),state:s.Z_().required("Please select your state"),landmark:s.Z_().min(3,"Landmark must be at least 3 characters"),pinCode:s.Rx().typeError("Pin code must be a number").min(3,"Pin code must be at least 3 characters").required("Please enter your pin code"),phoneNo:s.Rx().typeError("Phone number must be a number").required("Please enter your phone number")}),m=s.Ry({name:s.Z_().min(3,"Name must be at least 3 characters").required("Please enter product name"),price:s.Rx().typeError("Price must be a number").required("Please enter product price"),description:s.Z_().min(25,"Description must be at least 25 characters").max(2e3,"Description should not be more than 2000 characters").required("Please enter product description"),category:s.Z_().required("Please select product category"),stock:s.Rx().min(1,"Please add atleast 1 product").positive("Stock must be a positive number").typeError("Stock must be a number").required("Please enter product stock"),images:s.nK().required("Please choose product image"),imagesPreview:s.nK()}),u=s.Ry({name:s.Z_().min(2,"Name must be at least 2 characters").max(25,"Name should not be more than 25 characters").required("Please enter name"),email:s.Z_().email("Invalid Email").required("Please enter email"),role:s.Z_().required("Please select role")})}}]);
//# sourceMappingURL=618.215e36ce.chunk.js.map